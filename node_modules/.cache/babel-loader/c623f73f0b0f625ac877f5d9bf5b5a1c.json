{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\BrandReview\\\\src\\\\page\\\\profile\\\\components\\\\ProfileContent\\\\ProfileContent.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from \"react\";\nimport { HiCamera } from 'react-icons/hi';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport LoadingIndicator from '../../../../components/loadingIndicator/LoadingIndicator';\nimport { uploadPhoto } from \"../../../../helpers/uploadPhoto\";\nimport { userActions } from \"../../../../Redux/user slice/userSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProfileContent = ({\n  user,\n  setUser\n}) => {\n  _s();\n\n  const [isImageUploading, setIsImageUploading] = useState(false);\n  const {\n    user: User\n  } = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  const fileRef = useRef();\n\n  const uploadphoto = async e => {\n    try {\n      setIsImageUploading(true);\n      const {\n        url: imageUrl\n      } = await uploadPhoto(user, e.target.files[0], fileRef.current);\n      console.log(imageUrl);\n      setUser({ ...user,\n        profileImage: imageUrl\n      });\n      dispatch(userActions.setUser({\n        tokens: { ...User.tokens\n        },\n        user\n      }));\n      setIsImageUploading(false);\n    } catch (err) {\n      setIsImageUploading(false);\n      alert(err);\n    }\n  };\n\n  return user ? /*#__PURE__*/_jsxDEV(\"section\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile__intro\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile__intro__displayImage\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `profile__intro__displayImage__content ${isImageUploading && `profile__intro__displayImage__content__uploading`}`,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.profileImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile__intro__displayImage__content__upload\",\n            children: [/*#__PURE__*/_jsxDEV(HiCamera, {\n              className: \"profile__intro__displayImage__content__upload__icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"profile__intro__displayImage__content__upload__text\",\n              children: \"upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: fileRef,\n              type: \"file\",\n              accept: \"image/*\",\n              className: \"profile__intro__displayImage__content__upload__file\",\n              onChange: uploadphoto\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this), isImageUploading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile__intro__displayImage__loadingIndicator\",\n          children: /*#__PURE__*/_jsxDEV(LoadingIndicator, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile__intro__nameAndAddress\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: user.countryCode && user.phoneNumber ? user.countryCode + user.phoneNumber : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"profile__intro__detail\",\n        children: user.about ? user.about : \" - \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 7\n  }, this) : null;\n};\n\n_s(ProfileContent, \"49NP5QoSSw+ck3eifye1yfOwsIA=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = ProfileContent;\nexport default ProfileContent;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileContent\");","map":{"version":3,"sources":["D:/Projects/BrandReview/src/page/profile/components/ProfileContent/ProfileContent.jsx"],"names":["React","useState","useRef","HiCamera","useSelector","useDispatch","LoadingIndicator","uploadPhoto","userActions","ProfileContent","user","setUser","isImageUploading","setIsImageUploading","User","state","dispatch","fileRef","uploadphoto","e","url","imageUrl","target","files","current","console","log","profileImage","tokens","err","alert","name","email","countryCode","phoneNumber","about"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport {HiCamera} from 'react-icons/hi'\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport LoadingIndicator from '../../../../components/loadingIndicator/LoadingIndicator'\r\nimport { uploadPhoto } from \"../../../../helpers/uploadPhoto\";\r\nimport { userActions } from \"../../../../Redux/user slice/userSlice\";\r\nconst ProfileContent = ({user, setUser}) => {\r\n  const [isImageUploading, setIsImageUploading] = useState(false)\r\n  const {user:User} = useSelector(state => state.user)\r\n  const dispatch = useDispatch()\r\n  const fileRef = useRef()\r\n  const uploadphoto = async (e) => {\r\n    try{\r\n      setIsImageUploading(true)\r\n      const { url: imageUrl } = await uploadPhoto(user,e.target.files[0], fileRef.current)\r\n      console.log(imageUrl)\r\n      setUser({\r\n        ...user,\r\n        profileImage: imageUrl\r\n      })\r\n      dispatch(userActions.setUser({\r\n        tokens: {...User.tokens},\r\n        user\r\n      }))\r\n      setIsImageUploading(false)\r\n    }\r\n    catch(err){\r\n      setIsImageUploading(false)\r\n      alert(err)\r\n    }\r\n  }\r\n  \r\n  return (\r\n      user ?\r\n\r\n      <section >\r\n        <div className=\"profile__intro\">\r\n          <div className=\"profile__intro__displayImage\">\r\n            <div className={`profile__intro__displayImage__content ${isImageUploading && `profile__intro__displayImage__content__uploading`}`}>\r\n              <img src={user.profileImage} />\r\n              <div className=\"profile__intro__displayImage__content__upload\">\r\n                <HiCamera className=\"profile__intro__displayImage__content__upload__icon\"/>\r\n                <p className=\"profile__intro__displayImage__content__upload__text\">upload</p>\r\n                <input ref={fileRef} type=\"file\" accept=\"image/*\" className=\"profile__intro__displayImage__content__upload__file\" onChange={uploadphoto} />\r\n              </div>\r\n            </div>\r\n            {\r\n              isImageUploading &&\r\n              <div className=\"profile__intro__displayImage__loadingIndicator\">\r\n                <LoadingIndicator />\r\n              </div>\r\n            }\r\n          </div>\r\n\r\n          <div className=\"profile__intro__nameAndAddress\">\r\n            <h1>{user.name}</h1>\r\n            <h3>{user.email}</h3>\r\n            <h3>{user.countryCode && user.phoneNumber ? user.countryCode+user.phoneNumber : null}</h3>\r\n          </div>\r\n\r\n          <p className=\"profile__intro__detail\">\r\n            {user.about ? user.about : \" - \"}\r\n            </p>\r\n          </div>\r\n      </section>\r\n      :\r\n        null\r\n  );\r\n};\r\n\r\nexport default ProfileContent;\r\n"]},"metadata":{},"sourceType":"module"}